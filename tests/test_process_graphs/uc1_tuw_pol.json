{
  "gencol1": {
    "process_id": "create_cube",
    "arguments": {
      "data": [
        [
          [
            [0.5, 0.5],
            [0.5, 0.15]
          ],
          [
            [0.5, 0.5],
            [0.15, null]
          ]
        ]
      ],
      "dims": ["y", "x", "t", "band"],
      "coords": {
        "y": [16.3],
        "x": [48.2, 48.3],
        "t": ["2017-03-01 11:00:12", "2017-03-03 11:00:12"],
        "band": [["VV", "VH"], [null, null], [null, null]]
      }
    },
    "description": "Loading (testing) Sentinel 1 data for VV and VH over Vienna in March 2017"
  },



  "reducedimension1": {
    "process_id": "reduce_dimension",
    "arguments": {
      "data": {
        "from_node": "gencol1"
      },
      "dimension": "t",
      "reducer": {
        "process_graph": {
          "mean1": {
            "process_id": "mean",
            "arguments": {
              "data": {
                "from_parameter": "data"
              }
            },
            "result": true
          }
        }
      }
    },
    "description": "Calculating the mean over the whole time stack, resulting in one image of mean values for VV and VH."
  },
  "expectedreducedimension1": {
    "process_id": "create_cube",
    "arguments": {
      "data": [
        [
          [0.5, 0.325],
          [0.325, 0.5]
        ]
      ],
      "dims": ["y", "x", "band"],
      "coords": {
        "y": [16.3],
        "x": [48.2, 48.3],
        "band": [["VV", "VH"], [null, null], [null, null]]
      }
    }
  },
  "assertreducedimension1": {
    "process_id": "assert_equals",
    "arguments": {
      "a": {
        "from_node": "reducedimension1"
      },
      "b": {
        "from_node": "expectedreducedimension1"
      }
    }
  },



  "filterbands1": {
    "process_id": "filter_bands",
    "arguments": {
      "bands": [
        "VV"
      ],
      "data": {
        "from_node": "reducedimension1"
      }
    },
    "description": "Selecting only the VV image"
  },
  "expectedfilterbands1": {
    "process_id": "create_cube",
    "arguments": {
      "data": [
        [
          [0.5],
          [0.325]
        ]
      ],
      "dims": ["y", "x", "band"],
      "coords": {
        "y": [16.3],
        "x": [48.2, 48.3],
        "band": [["VV"], [null], [null]]
      }
    }
  },
  "assertfilterbands1": {
    "process_id": "assert_equals",
    "arguments": {
      "a": {
        "from_node": "filterbands1"
      },
      "b": {
        "from_node": "expectedfilterbands1"
      }
    }
  },



  "filterbands2": {
    "process_id": "filter_bands",
    "arguments": {
      "bands": [
        "VH"
      ],
      "data": {
        "from_node": "reducedimension1"
      }
    },
    "description": "Selecting only the VH image"
  },
  "expectedfilterbands2": {
    "process_id": "create_cube",
    "arguments": {
      "data": [
        [
          [0.325],
          [0.5]
        ]
      ],
      "dims": ["y", "x", "band"],
      "coords": {
        "y": [16.3],
        "x": [48.2, 48.3],
        "band": [["VH"], [null], [null]]
      }
    }
  },
  "assertfilterbands2": {
    "process_id": "assert_equals",
    "arguments": {
      "a": {
        "from_node": "filterbands2"
      },
      "b": {
        "from_node": "expectedfilterbands2"
      }
    }
  },




  "result1": {
    "process_id": "save_result",
    "arguments": {
      "data": {
        "from_node": "reducedimension1"
      },
      "format": "gtiff",
      "options": {
        "datatype": "float32"
      }
    },
    "result": true
  }
}
